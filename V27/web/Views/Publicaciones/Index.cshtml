<div ng-app="mainApp" ng-controller="publicacionesController">

    <div class="form-horizontal">
        <div class="form-actions center">
            <button type="button" ng-click="obtenerPublicaciones()" class="btn btn-sm btn-primary">
                <i class="ace-icon fa fa-search icon-on-right bigger-110"></i>
                Buscar
            </button>
            <button type="button" class="btn btn-sm btn-success" ng-click="nuevaPublicacion()">
                <i class="ace-icon fa fa-plus icon-on-right bigger-110"></i>
                Agregar
            </button>
        </div>
    </div>

    <div>
        <table class="table table-striped table-bordered table-hover">
            <thead>
                <tr>
                    <th>#</th>
                    <th>Tipo</th>
                    <th>Título</th>
                    <th>Descripción</th>
                    <th>Fecha </th>
                    <th>Usuario </th>
                    <th>Archivos</th>
                    <th></th>
                </tr>
            </thead>
            <tbody >
                <tr ng-repeat="publicacion in publicaciones">
                    <td>{{publicacion.id}}</td>
                    <td>{{publicacion.tipoPublicacion}}</td>
                    <td>{{publicacion.titulo}}</td>
                    <td>{{publicacion.descripcion}}</td>
                    <td>{{publicacion.fechaAlta.slice(6, -2)  |  date:'dd/MM/yyyy HH:mm'}}</td>
                    <td>{{publicacion.usuario}}</td>
                    <td>
                        <ol class="list-unstyled">
                           <li ng-repeat="archivo in publicacion.archivos" >
                            <a  href="/Archivos/Publicaciones/{{archivo.nombreArchivo}}" target="_blank">{{archivo.tituloArchivo}}</a> 
                           </li> 
                        </ol>
                    </td>
                    <td>                        
                        <a href="javascript:return false;"
                           ng-click="eliminarPublicacion(publicacion)">
                            <i class="ace-icon fa fa-trash-o bigger-130 red"></i>
                        </a>
                    </td>
                </tr>

            </tbody>
        </table>
    </div>


</div>

<script src="~/js/app/mainApp.js"></script>
<script src="~/js/app/controllers/publicacionesControllers.js"></script>
<script src="~/js/app/app_directives.js"></script>
